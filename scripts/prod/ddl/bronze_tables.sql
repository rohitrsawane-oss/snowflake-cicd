USE DATABASE {DATABASE_NAME};
--bronze layer tables
USE ROLE FR_PROD_DATA_ENGINEER;
create or replace TABLE SCH_TRUSTCAB_BRONZE.CITY_TARGET_PASSENGER_RATING (
	CITY_ID VARCHAR(16777216),
	TARGET_AVG_PASSENGER_RATING VARCHAR(16777216),
	SOURCE_FILE VARCHAR(16777216),
	FILE_ROW_NUM NUMBER(38,0),
	LOAD_TIMESTAMP TIMESTAMP_NTZ(9)
);

create or replace TABLE SCH_TRUSTCAB_BRONZE.DIM_CITY (
	CITY_ID VARCHAR(16777216),
	CITY_NAME VARCHAR(16777216),
	SOURCE_FILE VARCHAR(16777216),
	FILE_ROW_NUM NUMBER(38,0),
	LOAD_TIMESTAMP TIMESTAMP_NTZ(9)
);

create or replace TABLE SCH_TRUSTCAB_BRONZE.DIM_DATE (
	DATE DATE,
	START_OF_MONTH DATE,
	MONTH_NAME VARCHAR(16777216),
	DAY_TYPE VARCHAR(16777216)
);

create or replace TABLE SCH_TRUSTCAB_BRONZE.DIM_REPEAT_TRIP_DISTRIBUTION (
	MONTH VARCHAR(16777216),
	CITY_ID VARCHAR(16777216),
	TRIP_COUNT VARCHAR(16777216),
	REPEAT_PASSENGER_COUNT VARCHAR(16777216),
	SOURCE_FILE VARCHAR(16777216),
	FILE_ROW_NUM NUMBER(38,0),
	LOAD_TIMESTAMP TIMESTAMP_NTZ(9)
);

create or replace TABLE SCH_TRUSTCAB_BRONZE.FACT_PASSENGER_SUMMARY (
	MONTH VARCHAR(16777216),
	CITY_ID VARCHAR(16777216),
	NEW_PASSENGERS VARCHAR(16777216),
	REPEAT_PASSENGER VARCHAR(16777216),
	TOTAL_PASSENGERS VARCHAR(16777216),
	SOURCE_FILE VARCHAR(16777216),
	FILE_ROW_NUM NUMBER(38,0),
	LOAD_TIMESTAMP TIMESTAMP_NTZ(9)
);

create or replace TABLE SCH_TRUSTCAB_BRONZE.FACT_TRIPS (
	TRIP_ID VARCHAR(16777216),
	DATE DATE,
	CITY_ID VARCHAR(16777216),
	PASSENGER_TYPE VARCHAR(16777216),
	DISTANCE_TRAVELLED_KM NUMBER(38,0),
	FARE_AMOUNT NUMBER(38,0),
	PASSENGER_RATING NUMBER(38,0),
	DRIVER_RATING NUMBER(38,0)
);

create or replace TABLE SCH_TRUSTCAB_BRONZE.MONTHLY_TARGET_NEW_PASSENGERS (
	MONTH VARCHAR(16777216),
	CITY_ID VARCHAR(16777216),
	TARGET_NEW_PASSENGERS VARCHAR(16777216),
	SOURCE_FILE VARCHAR(16777216),
	FILE_ROW_NUM NUMBER(38,0),
	LOAD_TIMESTAMP TIMESTAMP_NTZ(9)
);

create or replace TABLE SCH_TRUSTCAB_BRONZE.MONTHLY_TARGET_TRIPS (
	MONTH DATE,
	CITY_ID VARCHAR(16777216),
	TOTAL_TARGET_TRIPS NUMBER(38,0),
	SOURCE_FILE VARCHAR(16777216),
	FILE_ROW_NUM NUMBER(38,0),
	LOAD_TIMESTAMP TIMESTAMP_NTZ(9)
);